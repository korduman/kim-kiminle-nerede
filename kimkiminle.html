<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kim Kiminle Nerede Ne YapÄ±yor?</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #007bff;
            text-align: center;
        }
        .question-box {
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background-color: #f9f9f9;
        }
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        button {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background-color: #28a745;
            color: white;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        button:hover:not(:disabled) {
            background-color: #218838;
        }
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        input[type="text"] {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: calc(100% - 18px);
            margin-top: 10px;
        }
        #result-area {
            margin-top: 40px;
            padding: 20px;
            background-color: #ffe0b2; /* AÃ§Ä±k turuncu */
            border-radius: 8px;
            text-align: center;
        }
        #result-text {
            font-size: 1.5em;
            font-weight: bold;
            color: #e65100; /* Koyu turuncu */
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Kim Kiminle Nerede Ne YapÄ±yor?</h1>

    <div id="game-area">
        </div>

    <div id="result-area" style="display: none;">
        <h2>ğŸ‰ Ä°ÅŸte Olay Zinciri! ğŸ‰</h2>
        <p id="result-text"></p>
        <button onclick="window.location.reload();">Yeniden Oyna</button>
    </div>
</div>

<script>
// --- VERÄ° TABANI (Sizin SaÄŸladÄ±ÄŸÄ±nÄ±z Veriler) ---
const veri_tabani = {
    // KÄ°M / KÄ°MÄ°NLE LÄ°STELERÄ°
    'Rahmetli': ['Fatih Sultan Mehmet', 'Enver PaÅŸa', 'AyÅŸen Gruda', 'Kemal Sunal', 'MÃ¼nir Ã–zkul', 'Adile NaÅŸit', 'Pablo Escobar', 'Marilyn Monroe', 'Prenses Diana', 'II. AbdÃ¼lhamid', 'Hezarfen Ahmet Ã‡elebi', 'KabaaÄŸaÃ§lÄ±zade Åakir PaÅŸa', 'Sadri AlÄ±ÅŸÄ±k', 'Tuncel Kurtiz', 'Hulusi Kentmen', 'MÃ¼ÅŸfik Kenter', 'Muhsin ErtuÄŸrul', 'Nejat Uygur', 'Hazreti Ali', 'Alfred Hitchcock', 'Charlie Chaplin', 'Mozart', 'William Wallace', 'Mevlana', 'JÃ¼l Sezar', 'Devlet BahÃ§eli'],
    'Hayali': ['Harry Potter', 'KeloÄŸlan', 'Gandalf', 'Polat Alemdar', 'Hannibal Lecter', 'Aslan Kral', 'Wall-E', 'Noel Baba', 'Homer Simpson', 'Batman', 'AltÄ±ncÄ± Hisâ€™teki oÄŸlan', 'Kill Billâ€™deki Gelin', 'KayÄ±p BalÄ±k Nemo', 'V', 'Totoro', 'Ã–rÃ¼mcek Adam', 'Sherlock Holmes', 'Rocky Balboa', 'Kaptan Jack Sparrow', 'TerminatÃ¶r', 'Mike Wazowski', 'Tony Soprano', 'Walter White', 'Luke Skywalker', 'Amelie', 'Barbie'],
    'Yerli': ['BÃ¼lent Ersoy', 'Nuri Bilge Ceylan', 'Tarkan', 'Acun', 'Hande ErÃ§el', 'Hadise', 'Serenay SarÄ±kaya', 'Ekrem Ä°mamoÄŸlu', 'KÄ±vanÃ§ TatlÄ±tuÄŸ', 'Feyyaz YiÄŸit', 'Demet AkalÄ±n', 'Ä°rem Derici', 'Merve Dizdar', 'GÃ¼lben Ergen', 'Demet Evgar', 'HÃ¼lya AvÅŸar', 'Berat Albayrak', 'RTE', 'Ata Demirer', 'Ã–zcan Deniz', 'Mehmet AslantuÄŸ', 'Haluk Bilginer', 'Ufuk Bayraktar', 'Tamer KaradaÄŸlÄ±', 'Ä°lyas Salman', 'Fikret KuÅŸkan', 'BarÄ±ÅŸ Atay', 'Erdal BeÅŸikÃ§ioÄŸlu'],
    'YabancÄ±': ['Donald Trump', 'Kim Kardashian', 'George Clooney', 'Taylor Swift', 'Brad Pitt', 'Putin', 'Elon Musk', 'Scarlett Johansson', 'Lady Gaga', 'Tom Hanks', 'Miyazaki', 'Jeff Bezos', 'Bill Gates', 'Mark Zuckerberg', 'Sibel Kekilli', 'Tarantino', 'Zohran Mamdani', 'Jennifer Lopez', 'Vahdettinâ€™in torunu', 'Ã¼nlÃ¼ bir futbolcu', 'senin tanÄ±madÄ±ÄŸÄ±n biri', 'eski sevgilin', 'uzaktan bir akraban'],
    
    // NEREDE LÄ°STELERÄ°
    'Nerede_Buyuk': ['Yozgatâ€™Ä±n bir kÃ¶yÃ¼nde', 'MÃ¼ge AnlÄ±â€™nÄ±n stÃ¼dyosunda', 'Paris metrosunda', 'Beyaz Sarayâ€™da', 'UluslararasÄ± Uzay Ä°stasyonuâ€™nda', 'Ak Sarayâ€™da', 'BoÄŸaz kÃ¶prÃ¼sÃ¼nde', 'Avrasya tÃ¼nelinde', 'RTEâ€™nin uÃ§aÄŸÄ±nda', 'Ã‡inâ€™de', 'Japonyaâ€™da', 'Sahra Ã‡Ã¶lÃ¼â€™nde', 'Titanik gemisinde', 'Kanarya AdalarÄ±nda', 'Suudi Arabistan konsolosluÄŸunda', 'Hindistanâ€™da', 'MÄ±sÄ±râ€™da', 'GÃ¼ney Afrikaâ€™da', 'Avustralyaâ€™da', 'Bangkokâ€™ta', 'KamboÃ§yaâ€™da', 'Amsterdamâ€™da', 'Dubaiâ€™de'],
    'Nerede_Kucuk': ['tuvalette', 'AVMâ€™de', 'asansÃ¶rde', 'parkta', 'hastanede', 'sizin evde', 'tek kiÅŸilik yatakta', 'karanlÄ±k bir sokakta', 'mahalle berberinde', 'dÃ¼nyanÄ±n Ã¶bÃ¼r ucunda', 'barda', 'otel odasÄ±nda', 'bilinmeyen bir yerde', 'okul mezuniyetinde', 'kilisede', 'buradan Ã§ok uzakta', 'uzak bir galakside', 'balkonda', 'yan dairede', 'arabada', 'kamyon kasasÄ±nda', 'vapurda', '2 metre Ã¶nÃ¼mÃ¼zde'],
    
    // NE YAPTI (EYLEM & ZAMAN) LÄ°STELERÄ°
    'Ne_Yapti_Eylem': ['halay Ã§ekti', 'voleybol oynadÄ±', 'lahmacun yedi', 'birlikte film izledi', 'dÃ¼et yaptÄ±', 'el ele tutuÅŸtu', 'saklambaÃ§ oynadÄ±', 'film Ã§ekti', 'evcilik oynadÄ±', 'kan kardeÅŸi oldu', 'vals yaptÄ±', 'evlenmeye karar verdi', 'tekme tokat kavga etti', 'birbirinin poposunu kaÅŸÄ±dÄ±', 'parti kurdu', 'ayakta alkÄ±ÅŸlandÄ±', 'en uzaÄŸa tÃ¼kÃ¼rme yarÄ±ÅŸÄ± yaptÄ±', 'ortak ÅŸirket aÃ§tÄ±', 'Ã§iÃ§ekleri suladÄ±', 'aÄŸÄ±z dalaÅŸÄ±na girdi', 'selfie Ã§ekti', 'Tiktok videosu Ã§ekti', 'Kim Kiminle Nerede oynadÄ±', 'kadeh tokuÅŸturdu', 'lokma dÃ¶ktÃ¼rdÃ¼', 'aynÄ± sigarayÄ± paylaÅŸtÄ±', 'boy Ã¶lÃ§Ã¼ÅŸtÃ¼'],
    'Ne_Yapti_Zaman': ['dÃ¼n gece', 'geÃ§en sene', '2017 yazÄ±nda', 'pandemi zamanÄ±', 'yÄ±lbaÅŸÄ± gecesi', 'geÃ§en hafta', 'senin doÄŸum gÃ¼nÃ¼nde', 'kim bilir ne zaman', 'dÃ¼n deÄŸil Ã¶nceki gÃ¼n', 'sen uyurken', 'gece rÃ¼yamda', 'kurban bayramÄ±nda', '23 Nisanâ€™da'],
    
    // NE YAPAR (EYLEM & ZAMAN) LÄ°STELERÄ°
    'Ne_Yapar_Eylem': ['halay Ã§eker', 'voleybol oynar', 'lahmacun yer', 'birlikte film izler', 'dÃ¼et yapar', 'el ele tutuÅŸur', 'saklambaÃ§ oynar', 'film Ã§eker', 'evcilik oynar', 'kan kardeÅŸi olur', 'vals yapar', 'evlenmeye karar verir', 'tekme tokat kavga eder', 'birbirinin poposunu kaÅŸÄ±r', 'parti kurar', 'ayakta alkÄ±ÅŸlanÄ±r', 'en uzaÄŸa tÃ¼kÃ¼rme yarÄ±ÅŸÄ± yapar', 'ortak ÅŸirket aÃ§ar', 'Ã§iÃ§ekleri sular', 'aÄŸÄ±z dalaÅŸÄ±na girer', 'selfie Ã§eker', 'Tiktok videosu Ã§eker', 'Kim Kiminle Nerede oynar', 'kadeh tokuÅŸturur', 'lokma dÃ¶ktÃ¼rÃ¼r', 'aynÄ± sigarayÄ± paylaÅŸÄ±r', 'boy Ã¶lÃ§Ã¼ÅŸÃ¼r'],
    'Ne_Yapar_Zaman': ['her pazar', 'aklÄ±na estikÃ§e', 'Ã¼Ã§ vakte kadar', 'bugÃ¼n yarÄ±n', 'canlarÄ± sÄ±kÄ±ldÄ±kÃ§a', 'zaman zaman', 'her sene', 'ileride bir gÃ¼n', 'sana ne zaman uygunsa', 'sen istersen', 'ilk fÄ±rsatta', 'her gece', 'gerekirse', 'karÄ±nlarÄ± acÄ±kÄ±nca']
};

const oyun_state = {
    step: 1,
    kim: null,
    kiminle: null,
    nerede: null,
    ne_yapiyor: null,
    ne_zaman: null
};

// YardÄ±mcÄ± fonksiyon: Rastgele seÃ§im
function rastgele_secim(kategori_adlari, haric_tutulan = null) {
    let tum_isimler = [];
    if (Array.isArray(kategori_adlari)) {
        kategori_adlari.forEach(ad => {
            tum_isimler.push(...veri_tabani[ad] || []);
        });
    } else { // Tek bir kategori adÄ± ise
        tum_isimler = veri_tabani[kategori_adlari] || [];
    }

    if (tum_isimler.length === 0) return "Bilinmeyen Biri";

    let secilen;
    do {
        secilen = tum_isimler[Math.floor(Math.random() * tum_isimler.length)];
    } while (haric_tutulan && secilen === haric_tutulan);
    
    return secilen;
}

// Oyun AdÄ±mÄ± YÃ¶neticisi
function next_step(selection) {
    const custom_input = document.getElementById('custom-input-' + oyun_state.step);
    let secilen_deger;
    let kategori_secimi;

    if (selection === 'custom') {
        secilen_deger = custom_input.value.trim();
        if (!secilen_deger) {
            alert("LÃ¼tfen bir deÄŸer girin.");
            return;
        }
    } else {
        kategori_secimi = selection;
    }

    // SeÃ§ime gÃ¶re state gÃ¼ncelle
    switch (oyun_state.step) {
        case 1: // KÄ°M?
            oyun_state.kim = secilen_deger || rastgele_secim(kategori_secimi === 'KarÄ±ÅŸÄ±k' ? ['Rahmetli', 'Hayali', 'Yerli', 'YabancÄ±'] : kategori_secimi);
            break;
        case 2: // KÄ°MÄ°NLE?
            oyun_state.kiminle = secilen_deger || rastgele_secim(kategori_secimi === 'KarÄ±ÅŸÄ±k' ? ['Rahmetli', 'Hayali', 'Yerli', 'YabancÄ±'] : kategori_secimi, oyun_state.kim);
            break;
        case 3: // NEREDE?
            oyun_state.nerede = secilen_deger || rastgele_secim(kategori_secimi === 'KarÄ±ÅŸÄ±k' ? ['Nerede_Buyuk', 'Nerede_Kucuk'] : (kategori_secimi === 'BÃ¼yÃ¼k Harfli' ? 'Nerede_Buyuk' : 'Nerede_Kucuk'));
            break;
        case 4: // NE YAPIYOR?
            if (selection === 'custom') {
                oyun_state.ne_yapiyor = secilen_deger;
                oyun_state.ne_zaman = rastgele_secim(['Ne_Yapti_Zaman', 'Ne_Yapar_Zaman']); // Eylemi bilmediÄŸimiz iÃ§in karÄ±ÅŸÄ±k zaman atayalÄ±m
            } else {
                const zaman_anahtar = selection === 'Ne YaptÄ±?' ? 'Yapti' : 'Yapar';
                oyun_state.ne_yapiyor = rastgele_secim('Ne_' + zaman_anahtar + '_Eylem');
                oyun_state.ne_zaman = rastgele_secim('Ne_' + zaman_anahtar + '_Zaman');
            }
            break;
    }

    oyun_state.step++;
    if (oyun_state.step > 4) {
        show_result();
    } else {
        render_step();
    }
}

// EkranÄ± Ã§izen fonksiyon
function render_step() {
    const area = document.getElementById('game-area');
    let html_content = '';
    let question_data;

    switch (oyun_state.step) {
        case 1:
            question_data = {
                title: "â“ SORU 1: KÄ°M?",
                options: ['Rahmetli', 'Hayali', 'Yerli', 'YabancÄ±', 'KarÄ±ÅŸÄ±k']
            };
            break;
        case 2:
            question_data = {
                title: "â“ SORU 2: KÄ°MÄ°NLE?",
                subtitle: `(Kim: ${oyun_state.kim})`,
                options: ['Rahmetli', 'Hayali', 'Yerli', 'YabancÄ±', 'KarÄ±ÅŸÄ±k']
            };
            break;
        case 3:
            question_data = {
                title: "â“ SORU 3: NEREDE?",
                subtitle: `(Kim: ${oyun_state.kim}, Kiminle: ${oyun_state.kiminle})`,
                options: ['BÃ¼yÃ¼k Harfli', 'KÃ¼Ã§Ã¼k Harfli', 'KarÄ±ÅŸÄ±k']
            };
            break;
        case 4:
            question_data = {
                title: "â“ SORU 4: NE YAPIYOR? (ZamanÄ± ve eylemi belirler)",
                subtitle: `(Kim: ${oyun_state.kim}, Kiminle: ${oyun_state.kiminle}, Nerede: ${oyun_state.nerede})`,
                options: ['Ne YaptÄ±?', 'Ne Yapar?']
            };
            break;
        default:
            return;
    }

    html_content += `
        <div class="question-box">
            <h2>${question_data.title}</h2>
            ${question_data.subtitle ? `<p>SeÃ§imleriniz: ${question_data.subtitle}</p>` : ''}
            <div class="options-grid">
                ${question_data.options.map(opt => 
                    `<button onclick="next_step('${opt.replace(/'/g, "\\'")}')">${opt}</button>`
                ).join('')}
            </div>
            <input type="text" id="custom-input-${oyun_state.step}" placeholder="Kendi verimi gireceÄŸim (YazÄ±n ve butona tÄ±klayÄ±n)">
            <button onclick="next_step('custom')">Veri GiriÅŸi ile Ä°lerle</button>
        </div>
    `;
    
    area.innerHTML = html_content;
}

// Sonucu gÃ¶steren fonksiyon
function show_result() {
    document.getElementById('game-area').style.display = 'none';
    const resultArea = document.getElementById('result-area');
    
    // CÃ¼mle Kurulumu: Kim + "ile" + Kiminle + Ne zaman adverb'Ã¼ + Nerede + Ne
    const final_sentence = 
        `${oyun_state.kim} ile ${oyun_state.kiminle} ${oyun_state.ne_zaman} ${oyun_state.nerede} ${oyun_state.ne_yapiyor}.`;

    document.getElementById('result-text').textContent = final_sentence;
    resultArea.style.display = 'block';
}

// Oyunu BaÅŸlat
document.addEventListener('DOMContentLoaded', render_step);
</script>

</body>
</html>
